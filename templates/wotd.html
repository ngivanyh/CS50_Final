{% extends "layout.html" %}

{% block title %}
{{ word }}
{% endblock %}

{% block body %}
    <div class="center_div">
        <form action="/back" method="get">
            <button type="submit">Back</button>
        </form>
    </div>
    <div class="center_div">
        <p id="word" class="text">{{ word }}</p><br>
    </div>
    <div class="center_div">
        {{ msg|safe }}
    </div>
    <div class="center_div">
        <details style="text-align: left;">
            <summary>More about today's word</summary>
            <div id="word-display">
                <p id="word" class="text">{{ wotd_word }}</p>
                <p id="pos">{{ pos|safe }}</p>
                <p id="def" class="text detailedinfo"><p id="imp">Definition:</p> {{ definition|safe }}</p>
                <p id="sentence" class="text detailedinfo"><p id="imp">Sentence:</p> {{ sentence|safe }}</p>
                <p id="synonyms" class="text detailedinfo"><p id="imp">Synonyms:</p> {{ syn|safe }}</p>
            </div>
        </details>
    </div>
    <canvas id="answer_distribution"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const ctx = document.getElementById('answer_distribution');
      
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['A', 'B', 'C', 'D'],
            datasets: [{
              label: '# of Votes',
              data: [{{ opts[0] }}, {{ opts[1] }}, {{ opts[2]}}, {{ opts[3]}}],
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      </script>

{% endblock %}